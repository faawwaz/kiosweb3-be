# ================================================
# KIOSWEB3 ENVIRONMENT CONFIGURATION
# ================================================
# Copy this file to .env.production for production deployment
# IMPORTANT: Never commit actual secrets to git!

# ================================================
# üåç ENVIRONMENT
# ================================================
NODE_ENV=production
PORT=3000

# ================================================
# üóÑÔ∏è DATABASE (PostgreSQL)
# ================================================
# Production: Use managed database (Supabase, Neon, etc)
DATABASE_URL=postgresql://user:password@host:5432/kiosweb3?schema=public

# ================================================
# üì¶ REDIS (Required for sessions, queues, caching)
# ================================================
# Production: Use managed Redis (Upstash, Redis Cloud, etc)
REDIS_URL=redis://default:password@host:6379

# ================================================
# üîê AUTHENTICATION
# ================================================
# Generate with: openssl rand -base64 32
# MUST be at least 32 characters
AUTH_SECRET=your-super-secret-key-min-32-characters-here

# Google OAuth (Optional - for web login)
AUTH_GOOGLE_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_SECRET=your-google-client-secret

# ================================================
# ü§ñ TELEGRAM BOT
# ================================================
# Get from @BotFather
# PRODUCTION: Use production bot token (different from dev bot!)
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Webhook secret for security (optional but recommended)
TELEGRAM_BOT_SECRET=your-webhook-secret

# ================================================
# üí≥ MIDTRANS PAYMENT GATEWAY
# ================================================
# CRITICAL: Use PRODUCTION keys, not sandbox!
# Get from Midtrans Dashboard > Settings > Access Keys

# Production Server Key (get from Midtrans Dashboard)
MIDTRANS_SERVER_KEY=your-midtrans-server-key

# Production Client Key (get from Midtrans Dashboard)
MIDTRANS_CLIENT_KEY=your-midtrans-client-key

# ‚ö†Ô∏è MUST BE 'true' FOR PRODUCTION
MIDTRANS_IS_PRODUCTION=true

# Your Merchant ID
MIDTRANS_MERCHANT_ID=G123456789

# ================================================
# üîë HOT WALLET PRIVATE KEYS
# ================================================
# ‚ö†Ô∏è CRITICAL SECURITY: These are your crypto wallet private keys!
# - Store encrypted in production
# - Use hardware wallet for large amounts
# - These are loaded into DB encrypted via admin panel

# Optional legacy env keys (prefer DB-stored encrypted keys)
# HOT_WALLET_PRIVATE_KEY_BSC=0x...
# HOT_WALLET_PRIVATE_KEY_ETH=0x...
# HOT_WALLET_PRIVATE_KEY_BASE=0x...

# Encryption key for wallet private keys stored in DB
# Generate with: openssl rand -hex 32
# MUST be at least 32 characters
WALLET_ENCRYPTION_KEY=your-32-character-encryption-key-here

# ================================================
# üí∞ PRICING CONFIGURATION
# ================================================
# Markup percentage on top of market price
DEFAULT_MARKUP_PERCENT=8

# Fallback USD/IDR rate (auto-updated from API)
USD_IDR_RATE=16000

# ================================================
# üîó RPC ENDPOINTS
# ================================================
# Use premium/private RPC for production reliability
# Free public RPCs may rate limit or be unreliable

# BSC Mainnet
RPC_URL_BSC=https://bsc-dataseed.binance.org

# Ethereum Mainnet (use Alchemy/Infura for production)
RPC_URL_ETH=https://eth-mainnet.g.alchemy.com/v2/your-api-key

# Base Mainnet
RPC_URL_BASE=https://mainnet.base.org

# ================================================
# üåê APPLICATION URLs
# ================================================
# Your production domain (for payment callbacks, webhooks)
APP_URL=https://api.kiosweb3.com

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://kiosweb3.com,https://www.kiosweb3.com

# ================================================
# üìß SMTP EMAIL (for OTP, notifications)
# ================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=KiosWeb3 <no-reply@kiosweb3.com>

# ================================================
# üìä MONITORING (Sentry)
# ================================================
# Get from Sentry.io project settings
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
SENTRY_ENVIRONMENT=production

# ================================================
# üîç PRODUCTION CHECKLIST
# ================================================
# Before going live, verify:
# [ ] NODE_ENV=production
# [ ] MIDTRANS_IS_PRODUCTION=true (NOT sandbox!)
# [ ] Using production Telegram bot token
# [ ] Using production database (not localhost)
# [ ] Using production Redis (not localhost)
# [ ] AUTH_SECRET is unique and secure
# [ ] WALLET_ENCRYPTION_KEY is unique and secure
# [ ] APP_URL points to production domain
# [ ] CORS_ORIGINS includes all frontend domains
# [ ] Sentry DSN is configured for monitoring
# [ ] All private keys are secure and backed up
